<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 1 Prep: Installing R | Intro to R workshop</title>
<meta name="author" content="Emily Nordmann">
<meta name="description" content="Installing R and RStudio is usually straightforward. The sections below explain how and there is a helpful YouTube video here. If you run into serious difficulties (for example if you don't have...">
<meta name="generator" content="bookdown 0.25 with bs4_book()">
<meta property="og:title" content="Chapter 1 Prep: Installing R | Intro to R workshop">
<meta property="og:type" content="book">
<meta property="og:url" content="https://psyteachr.github.io/workshop-dataviz/installing-r.html">
<meta property="og:image" content="https://psyteachr.github.io/workshop-dataviz/images/logos/logo.png">
<meta property="og:description" content="Installing R and RStudio is usually straightforward. The sections below explain how and there is a helpful YouTube video here. If you run into serious difficulties (for example if you don't have...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 1 Prep: Installing R | Intro to R workshop">
<meta name="twitter:description" content="Installing R and RStudio is usually straightforward. The sections below explain how and there is a helpful YouTube video here. If you run into serious difficulties (for example if you don't have...">
<meta name="twitter:image" content="https://psyteachr.github.io/workshop-dataviz/images/logos/logo.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-6NP3MF25W3"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6NP3MF25W3');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="include/psyteachr.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Intro to R workshop</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Overview</a></li>
<li><a class="active" href="installing-r.html"><span class="header-section-number">1</span> Prep: Installing R</a></li>
<li><a class="" href="intro.html"><span class="header-section-number">2</span> Prep: Intro to R and RStudio</a></li>
<li><a class="" href="session-1-1.html"><span class="header-section-number">3</span> Session 1.1</a></li>
<li><a class="" href="session-1-2.html"><span class="header-section-number">4</span> Session 1.2</a></li>
<li><a class="" href="session-2-1.html"><span class="header-section-number">5</span> Session 2.1</a></li>
<li><a class="" href="session-2-2.html"><span class="header-section-number">6</span> Session 2.2</a></li>
<li><a class="" href="session-3-1.html"><span class="header-section-number">7</span> Session 3.1</a></li>
<li><a class="" href="session-3-2.html"><span class="header-section-number">8</span> Session 3.2</a></li>
<li><a class="" href="session-4-1.html"><span class="header-section-number">9</span> Session 4.1</a></li>
<li><a class="" href="session-4-2.html"><span class="header-section-number">10</span> Session 4.2</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="glossary.html"><span class="header-section-number">A</span> Glossary</a></li>
<li><a class="" href="license.html">License</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/psyteachr/template">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="installing-r" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> Prep: Installing <code>R</code><a class="anchor" aria-label="anchor" href="#installing-r"><i class="fas fa-link"></i></a>
</h1>
<p>Installing R and RStudio is usually straightforward. The sections below explain how and <a href="https://www.youtube.com/watch?v=lVKMsaWju8w" target="_blank">there is a helpful YouTube video here</a>. If you run into serious difficulties (for example if you don't have admin rights to your machine), for the purposes of the workshop we recommend using <a href="https://rstudio.cloud/">RStudio Cloud</a> as there will not be time to trouble-shoot complex installation issues.</p>
<div id="installing-base-r" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Installing Base R<a class="anchor" aria-label="anchor" href="#installing-base-r"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://cran.rstudio.com/" target="_blank">Install base R</a>. Choose the download link for your operating system (Linux, Mac OS X, or Windows).</p>
<p>If you have a Mac, install the latest release from the newest <code>R-x.x.x.pkg</code> link (or a legacy version if you have an older operating system). You may also need to install <a href="http://xquartz.macosforge.org/" target="_blank">XQuartz</a> to be able to use some visualisation packages.</p>
<p>If you are installing the Windows version, choose the "<a href="https://cran.rstudio.com/bin/windows/base/">base</a>" subdirectory and click on the download link at the top of the page.</p>
<p>If you are using Linux, choose your specific operating system and follow the installation instructions.</p>
</div>
<div id="installing-rstudio" class="section level2" number="1.2">
<h2>
<span class="header-section-number">1.2</span> Installing RStudio<a class="anchor" aria-label="anchor" href="#installing-rstudio"><i class="fas fa-link"></i></a>
</h2>
<p>Go to <a href="https://www.rstudio.com/products/rstudio/download/#download" target="_blank">rstudio.com</a> and download the RStudio Desktop (Open Source License) version for your operating system under the list titled <strong>Installers for Supported Platforms</strong>.</p>
</div>
<div id="installing-rtools" class="section level2" number="1.3">
<h2>
<span class="header-section-number">1.3</span> Installing RTools<a class="anchor" aria-label="anchor" href="#installing-rtools"><i class="fas fa-link"></i></a>
</h2>
<p>If you are using Windows, after you install R, you should also install <a href="https://cran.rstudio.com/bin/windows/Rtools/" target="_blank">RTools</a>; use the "recommended" version highlighted near the top of the list. RTools is used for installing and loading some packages. You can get started without installing RTools, but if you're having problems with installing and loading some packages, this should be the first thing you try.</p>
<p>RTools will require you to put it "on the PATH". The instructions for this can seem a bit vague - the easiest way to do it is to open RStudio, run the below code in the console:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/write.html">write</a></span><span class="op">(</span><span class="st">'PATH="${RTOOLS40_HOME}\\usr\\bin;${PATH}"'</span>, file <span class="op">=</span> <span class="st">"~/.Renviron"</span>, append <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>Once you've done that, restart R by clicking <code>Session - Restart R</code> and then run the below code in the console which should give you the path to your RTools installation:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Sys.which.html">Sys.which</a></span><span class="op">(</span><span class="st">"make"</span><span class="op">)</span></code></pre></div>
<pre><code>##                               make 
## "C:\\rtools40\\usr\\bin\\make.exe"</code></pre>
</div>
<div id="rstudio-settings" class="section level2" number="1.4">
<h2>
<span class="header-section-number">1.4</span> RStudio Settings<a class="anchor" aria-label="anchor" href="#rstudio-settings"><i class="fas fa-link"></i></a>
</h2>
<p>There are a few settings you should fix immediately after updating RStudio. Go to <strong><code>Global Options...</code></strong> under the <strong><code>Tools</code></strong> menu (⌘,), and in the General tab, uncheck the box that says <strong><code>Restore .RData into workspace at startup</code></strong>. If you keep things around in your workspace, things will get messy, and unexpected things will happen. You should always start with a clear workspace. This also means that you never want to save your workspace when you exit, so set this to <strong><code>Never</code></strong>. The only thing you want to save are your scripts.</p>
<p>You may also want to change the appearance of your code. Different fonts and themes can sometimes help with visual difficulties or <a href="https://datacarpentry.org/blog/2017/09/coding-and-dyslexia" target="_blank">dyslexia</a>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:settings-general"></span>
<img src="images/appx/rstudio_settings_general_appearance.png" alt="RStudio General and Appearance settings" width="100%"><p class="caption">
Figure 1.1: RStudio General and Appearance settings
</p>
</div>
<p>You may also want to change the settings in the Code tab. For example, Lisa DeBruine prefers two spaces instead of tabs for their code and likes to be able to see the <a class="glossary" target="_blank" title="Spaces, tabs and line breaks" href="https://psyteachr.github.io/glossary/w#whitespace">whitespace</a> characters. But these are all a matter of personal preference.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:settings-code"></span>
<img src="images/appx/rstudio_settings_code.png" alt="RStudio Code settings" width="100%"><p class="caption">
Figure 1.2: RStudio Code settings
</p>
</div>
</div>
<div id="installing-latex" class="section level2" number="1.5">
<h2>
<span class="header-section-number">1.5</span> Installing LaTeX<a class="anchor" aria-label="anchor" href="#installing-latex"><i class="fas fa-link"></i></a>
</h2>
<p>You can install the LaTeX typesetting system to produce PDF reports from RStudio. Without this additional installation, you will be able to produce reports in HTML but not PDF. To generate PDF reports, you will additionally need to install <code class="package">tinytex</code> <span class="citation">(<a href="references.html#ref-R-tinytex" role="doc-biblioref">Xie, 2022</a>)</span> and run the following code:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># run this in the console</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tinytex"</span><span class="op">)</span>
<span class="fu">tinytex</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tinytex/man/install_tinytex.html">install_tinytex</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="updating-r" class="section level2" number="1.6">
<h2>
<span class="header-section-number">1.6</span> Updating R, RStudio, and packages<a class="anchor" aria-label="anchor" href="#updating-r"><i class="fas fa-link"></i></a>
</h2>
<p>From time-to-time, updated versions of R, RStudio, and the packages you use (e.g., ggplot) will become available. Remember that each of these are separate, so they each have a different process and come with different considerations. We recommend updating to the latest version before you start a new project. We definitely do not recommend updating in the middle of a project or in the middle of semester and we bring this advice to you based on personal experience and pain.</p>
</div>
<div id="updating-rstudio" class="section level2" number="1.7">
<h2>
<span class="header-section-number">1.7</span> Updating RStudio<a class="anchor" aria-label="anchor" href="#updating-rstudio"><i class="fas fa-link"></i></a>
</h2>
<p>RStudio is the easiest component to update. Typically, updates to RStudio won't affect your code, instead they add in new features, like spell-check or upgrades to what RStudio can do. There's usually very little downside to updating RStudio and it's easy to do.</p>
<p>Click <code>Help - Check for updates</code></p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-updaterstudio"></span>
<img src="images/appx/update_rstudio.jpg" alt="Updating RStudio" width="100%"><p class="caption">
Figure 1.3: Updating RStudio
</p>
</div>
<p>If an update is available, it will prompt you to download it and you can install it as usual.</p>
</div>
<div id="updating-r-1" class="section level2" number="1.8">
<h2>
<span class="header-section-number">1.8</span> Updating R<a class="anchor" aria-label="anchor" href="#updating-r-1"><i class="fas fa-link"></i></a>
</h2>
<p>Finally, you may also wish to update R itself. The key thing to be aware of is that when you update R, if you just download the latest version from the website, you will lose all your packages.</p>
<div id="windows" class="section level3" number="1.8.1">
<h3>
<span class="header-section-number">1.8.1</span> Windows<a class="anchor" aria-label="anchor" href="#windows"><i class="fas fa-link"></i></a>
</h3>
<p>The easiest way to update R on Windows and not cause yourself a huge headache is to use the <code>installr</code> package. When you use the <code><a href="https://talgalili.github.io/installr/reference/updateR.html">updateR()</a></code> function, a series of dialogue boxes will appear. These should be fairly self-explanatory but there is a <a href="https://www.r-statistics.com/2015/06/a-step-by-step-screenshots-tutorial-for-upgrading-r-on-windows/">full step-by-step guide available</a> for how to use <code>installr</code>, the important bit is to select "Yes" when it asked if you would like to copy your packages from the older version of R.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Install the installr package</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"installr"</span><span class="op">)</span>

<span class="co"># Run the update function</span>
<span class="fu">installR</span><span class="fu">::</span><span class="fu">updateR</span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="mac" class="section level3" number="1.8.2">
<h3>
<span class="header-section-number">1.8.2</span> Mac<a class="anchor" aria-label="anchor" href="#mac"><i class="fas fa-link"></i></a>
</h3>
<p>For a Mac, you can use the <code class="package"><a href="https://github.com/AndreaCirilloAC/updateR" target="_blank">updateR</a></code> package. You'll need to install this from GitHub. You will be asked to type your system password (that you use to log into your computer) in the console pane. If relevant, it will ask you if you want to restore your packages for a new major version.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install from github</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"AndreaCirilloAC/updateR"</span><span class="op">)</span>

<span class="co"># update your R version, you will need your system password</span>
<span class="fu">updateR</span><span class="fu">::</span><span class="fu">updateR</span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="updating-packages" class="section level2" number="1.9">
<h2>
<span class="header-section-number">1.9</span> Updating packages<a class="anchor" aria-label="anchor" href="#updating-packages"><i class="fas fa-link"></i></a>
</h2>
<p><strong>If you're completely new to R and haven't installed any packages yet, this section won't make a great deal of sense, just remember that it is here so that you can come back to it in the future.</strong></p>
<p>Package developers will occasionally release updates to their packages. This is typically to add in new functions to the package, or to fix or amend existing functions. <strong>Be aware that some package updates may cause your previous code to stop working</strong>. This does not tend to happen with minor updates to packages, but occasionally with major updates, you can have serious issues if the developer has made fundamental changes to how the code works. For this reason, we recommend updating all your packages once at the beginning of each academic year (or semester) - don't do it before an assessment or deadline just in case!</p>
<p>To update an individual package, the easiest way is to use the <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> function, as this always installs the most recent version of the package.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></code></pre></div>
<p>To update multiple packages, or indeed all packages, RStudio provides helpful tools. Click <code>Tools - Check for Package Updates</code>. A dialogue box will appear and you can select the packages you wish to update. Be aware that if you select all packages, this may take some time and you will be unable to use R whilst the process completes.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:img-updateall"></span>
<img src="images/appx/update_packages.png" alt="Updating packages with RStudio" width="100%"><p class="caption">
Figure 1.4: Updating packages with RStudio
</p>
</div>
</div>
<div id="package-install-troubleshooting" class="section level2" number="1.10">
<h2>
<span class="header-section-number">1.10</span> Troubleshooting<a class="anchor" aria-label="anchor" href="#package-install-troubleshooting"><i class="fas fa-link"></i></a>
</h2>
<p>Occasionally, you might have a few problem packages that seemingly refuse to update or install. For Emily, <code>rlang</code> and <code>vctrs</code> cause no end of trouble. These aren't packages that you will likely every explicitly load, but they're required beneath the surface for R to do things like knit your Markdown files etc.</p>
<div id="non-zero-exit-status" class="section level3" number="1.10.1">
<h3>
<span class="header-section-number">1.10.1</span> Non-zero exit status<a class="anchor" aria-label="anchor" href="#non-zero-exit-status"><i class="fas fa-link"></i></a>
</h3>
<p>If you try to update a package and get an error message that says something like <code>Warning in install.packages : installation of package ‘vctrs’ had non-zero exit status</code> or perhaps <code>Error in loadNamespace(i, c(lib.loc, .libPaths()), versionCheck = vI[[i]]) :  namespace 'rlang' 0.4.9 is being loaded, but &gt;= 0.4.10 is required</code> one solution we have found is to manually uninstall the package, restart R, and then install the package new, rather than trying to update an existing version. The <code>installr</code> package also has a useful function for uninstalling packages.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load installr</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://talgalili.github.io/installr/">installr</a></span><span class="op">)</span>

<span class="co"># Uninstall the problem package</span>
<span class="fu"><a href="https://talgalili.github.io/installr/reference/uninstall.packages.html">uninstall.packages</a></span><span class="op">(</span><span class="st">"package_name"</span><span class="op">)</span>

<span class="co"># Then restart R using session - restart R</span>
<span class="co"># Then install the package fresh</span>

<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"package"</span><span class="op">)</span></code></pre></div>
</div>
<div id="cannot-open-file" class="section level3" number="1.10.2">
<h3>
<span class="header-section-number">1.10.2</span> Cannot open file<a class="anchor" aria-label="anchor" href="#cannot-open-file"><i class="fas fa-link"></i></a>
</h3>
<p>You may get the following error after trying to install any packages at all:</p>
<blockquote>
<p>Error in install packages : Cannot open file 'C:/.....': Permission denied</p>
</blockquote>
<p>This usually indicates a permissions problem with writing to the default library (the folder that packages are kept in). Sometimes this means that you need to install R and RStudio as administrator or run it as administrator.</p>
<p>One other fix may be to change the library location using the following code (check in "C:/Program Files/R" for what version you should have instead of "R-3.5.2"):</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># change the library path</span>
<span class="fu"><a href="https://rdrr.io/r/base/libPaths.html">.libPaths</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"C:/Program Files/R/R-3.5.2/library"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>If that works and you can install packages, set this library path permanently:</p>
<ol style="list-style-type: decimal">
<li>Install the <code class="package">usethis</code> package</li>
<li>Run <code><a href="https://usethis.r-lib.org/reference/edit.html">usethis::edit_r_profile()</a></code> in the console; it will open up a blank file</li>
<li>Paste into the file (your version of): <code>.libPaths(c("C:/Program Files/R/R-3.5.2/library"))</code>
</li>
<li>Save and close the file</li>
<li>Restart R for changes to take effect</li>
</ol>
<p>The code in your .Rprofile will now run every time you start up R.</p>

</div>
</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;

    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    $(solveme[i]).after(" <span class='webex-icon'></span>");
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    $(selects[i]).after(" <span class='webex-icon'></span>");
  }

  update_total_correct();
}

</script><script>
$( document ).ready(function() {
  var cite = ' ';
  var psyteachr = ' <a href="https://psyteachr.github.io/"><img src="images/logos/psyteachr_logo.png" style="height: 31px; color: white;" alt="psyTeachR: Reproducible Research" /></a>';
  var license = ' <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>';

  $("footer div.row div:eq(1) p").html(
    psyteachr + license + cite
  );

  // open rdrr links externally
  $("a[href^='https://rdrr.io']").click(function(){
    window.open(this.href);
    return false;
  });

  // visible second sidebar in mobile
  function move_sidebar() {
    var w = window.innerWidth;
    if (w < 992) {
      $("#toc").appendTo($("#main-nav"));
    } else {
      $("#toc").appendTo($("div.sidebar-chapter"));
    }
  }
  move_sidebar();
  window.onresize = move_sidebar;
});
</script><div class="chapter-nav">
<div class="prev"><a href="index.html">Overview</a></div>
<div class="next"><a href="intro.html"><span class="header-section-number">2</span> Prep: Intro to R and RStudio</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#installing-r"><span class="header-section-number">1</span> Prep: Installing R</a></li>
<li><a class="nav-link" href="#installing-base-r"><span class="header-section-number">1.1</span> Installing Base R</a></li>
<li><a class="nav-link" href="#installing-rstudio"><span class="header-section-number">1.2</span> Installing RStudio</a></li>
<li><a class="nav-link" href="#installing-rtools"><span class="header-section-number">1.3</span> Installing RTools</a></li>
<li><a class="nav-link" href="#rstudio-settings"><span class="header-section-number">1.4</span> RStudio Settings</a></li>
<li><a class="nav-link" href="#installing-latex"><span class="header-section-number">1.5</span> Installing LaTeX</a></li>
<li><a class="nav-link" href="#updating-r"><span class="header-section-number">1.6</span> Updating R, RStudio, and packages</a></li>
<li><a class="nav-link" href="#updating-rstudio"><span class="header-section-number">1.7</span> Updating RStudio</a></li>
<li>
<a class="nav-link" href="#updating-r-1"><span class="header-section-number">1.8</span> Updating R</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#windows"><span class="header-section-number">1.8.1</span> Windows</a></li>
<li><a class="nav-link" href="#mac"><span class="header-section-number">1.8.2</span> Mac</a></li>
</ul>
</li>
<li><a class="nav-link" href="#updating-packages"><span class="header-section-number">1.9</span> Updating packages</a></li>
<li>
<a class="nav-link" href="#package-install-troubleshooting"><span class="header-section-number">1.10</span> Troubleshooting</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#non-zero-exit-status"><span class="header-section-number">1.10.1</span> Non-zero exit status</a></li>
<li><a class="nav-link" href="#cannot-open-file"><span class="header-section-number">1.10.2</span> Cannot open file</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/psyteachr/template/blob/master/book/01-installing-r.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/psyteachr/template/edit/master/book/01-installing-r.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Intro to R workshop</strong>" was written by Emily Nordmann. It was last built on 2022-07-11.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
